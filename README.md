# Skill Builder

A multi-agent workflow for creating domain-specific Claude skills. Skills are knowledge packages that help data and analytics engineers build silver and gold layer models with proper functional context.

Available as a **Claude Code plugin** (CLI) and a **Tauri desktop app** (GUI). Both share the same agent prompts and reference material.

## Quick Start

### Plugin

**Install from marketplace:**

```bash
claude plugin marketplace add hbanerjee74/skills
claude plugin install skill-builder
```

**Install from local directory:**

```bash
# Start Claude Code with the plugin loaded from a local checkout
claude --plugin-dir /path/to/skill-builder

# Then trigger the workflow
/skill-builder:building-skills
```

**Dev testing (from repo root):**

```bash
# Build all plugin skill directories from agent-sources first
./scripts/build-plugin-skill.sh

# Load the plugin locally — exposes all 4 skills
claude --plugin-dir .

# Then invoke any skill:
/skill-builder:building-skills
/skill-builder:research
/skill-builder:validate-skill
/skill-builder:skill-builder-practices
```

### Desktop App

Requires: Node.js 18-24, Rust toolchain, [Tauri prerequisites](https://v2.tauri.app/start/prerequisites/)

```bash
cd app
npm install
npm run sidecar:build   # Bundle the Node.js agent runner
npm run dev             # Start in dev mode
```

Configure your Anthropic API key and workspace folder in Settings before running workflows.

**Mock mode** -- for UI development without API calls:

```bash
cd app && MOCK_AGENTS=true npm run dev
```

This replays bundled JSONL templates with short delays, writes mock output files, and advances the workflow through all steps without hitting the Anthropic API.

## How It Works

The workflow guides you through building a skill in 6 steps:

0. **Research** -- opus planner selects relevant research dimensions, parallel agents research them, opus consolidation produces clarification questions. If scope is too broad, recommends narrower skills instead
1. **Review** -- you answer clarification questions (or review scope recommendation)
2. **Detailed Research** -- agents dive deeper per section, produce refinement questions
3. **Review** -- you answer a second round of questions
4. **Confirm Decisions** -- agent analyzes your answers, detects gaps and contradictions
5. **Generate Skill** -- agent creates SKILL.md and reference files

After Generate completes, you can **Refine** the skill (iterative chat with `/validate` and `/rewrite` commands) or mark it **Done**.

Skills are organized by type: **domain** (business knowledge), **platform** (tool-specific), **source** (extraction patterns), and **data-engineering** (technical patterns).

Completed skills are version-controlled locally (auto-commits via git2) and can be pushed to a shared GitHub repository via branch + PR from the desktop app.

## Architecture

```
skill-builder/
├── agents/                          # Agent prompts (shared by both frontends)
├── agent-sources/
│   └── workspace/
│       ├── CLAUDE.md                # Agent instructions (app: auto-loaded; plugin: packaged as workspace-context.md)
│       └── skills/                  # Source for the 3 inner plugin packages
│           ├── research/            # → published as skill-builder-research
│           ├── validate-skill/      # → published as skill-builder-validate
│           └── skill-builder-practices/  # → published as skill-builder-practices
├── skills/                          # Built plugin skills (generated by build-plugin-skill.sh)
│   ├── building-skills/             # Main coordinator → published as skill-builder
│   ├── research/                    # Built from agent-sources
│   ├── validate-skill/              # Built from agent-sources
│   └── skill-builder-practices/    # Built from agent-sources
├── app/                             # Desktop application
│   ├── src/                         # React 19 + Tailwind 4 + shadcn/ui
│   ├── src-tauri/                   # Rust backend (Tauri 2 + SQLite)
│   └── sidecar/                     # Node.js agent runner (Claude Agent SDK)
└── scripts/                         # Plugin build, validation, and test harness
```

**Plugin**: Uses Claude Code's native agent teams for orchestration. State tracked in `workflow-state.md`.

**Desktop App**: Spawns agents via a Node.js sidecar process using the Claude Agent SDK. State tracked in SQLite. Agents stream JSON messages to the Rust backend, which emits Tauri events to the React frontend.

## Testing

```bash
# Desktop app
cd app
npm test                     # Frontend unit tests (Vitest)
cd src-tauri && cargo test   # Rust tests
npm run test:e2e             # E2E tests (Playwright)

# Plugin — structural validation (free, no API key needed)
./scripts/validate.sh

# Plugin — LLM tests (requires API key)
cd app && npm run test:plugin                    # All plugin tests (structural + LLM)
cd app && npm run test:plugin:structural         # Structural only (free)
cd app && npm run test:plugin:workflow           # Full E2E workflow (~$5)
FOREGROUND=1 ./tests/run.sh plugin workflow     # Workflow with live Claude output
```

See [`scripts/README.md`](scripts/README.md) for the full guide and [`app/tests/README.md`](app/tests/README.md) for all test levels.

## Contributing

This project supports Codex and Claude-based AI-assisted development. For Codex sessions, start with [`AGENTS.md`](AGENTS.md). Legacy Claude-focused guidance remains in [`CLAUDE.md`](CLAUDE.md). Platform-specific guides:

- [`CLAUDE-APP.md`](CLAUDE-APP.md) -- desktop app development
- [`CLAUDE-PLUGIN.md`](CLAUDE-PLUGIN.md) -- plugin development

## License

See [LICENSE](LICENSE) for details.
